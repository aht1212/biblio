

  <button mat-raised-button
  style="background-color: #0f172a ;
  color: beige;" (click)="open(content)">Ajouter livre</button>

  <br><br>
<ng-template #content let-modal>
  <mat-toolbar>
  <div class="modal-header">
    <h1 mat-dialog-title>Livre</h1>

  </div>
</mat-toolbar>


<div class="modal-body">
<form class="example-form" [formGroup]="formvalue">
  <mat-form-field class="example-full-width" appearance="fill">
    <mat-label>Titre</mat-label>
    <input matInput value="Titre" formControlName="titre">
  </mat-form-field>

  <table class="example-full-width" cellspacing="0"><tr>
    <td><mat-form-field class="example-full-width" appearance="fill">
      <mat-label>ISBN</mat-label>
      <input matInput value="289178271" formControlName="isbn" type="number">
    </mat-form-field></td>
    <td><mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Langue</mat-label>
      <input matInput formControlName="langue">
    </mat-form-field></td>
  </tr></table>

  <table class="example-full-width" cellspacing="0"><tr>
    <td><mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Annee</mat-label>
      <input placeholder="2021" matInput value="2021" formControlName="annee" type="number" min="1" max="2022" step="1" [defaultValue]="2021">
    </mat-form-field></td>
    <td>
      <!-- <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Date de parution</mat-label>
      <input matInput formControlName="date_parution" type="date">
    </mat-form-field> -->
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Date de parution</mat-label>
      <input matInput type="date" formControlName="date_parution">
    </mat-form-field>
  </td>
  </tr></table>
  <table class="example-full-width" cellspacing="0"><tr>

    <td><mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Publication</mat-label>
      <input matInput formControlName="publication">
    </mat-form-field></td>
    <td><mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Nombre d'exemplaire</mat-label>
      <input matInput formControlName="exemplaire" type="number">
    </mat-form-field></td>

  </tr></table>

  <table class="example-full-width" cellspacing="0"><tr>
    <mat-toolbar>
      <div class="modal-header">
        <h1 mat-dialog-title>Auteur</h1>

      </div>
    </mat-toolbar><br>
  </tr></table>
  <mat-form-field class="example-full-width" appearance="fill">
    <mat-label>Nom</mat-label>
    <input matInput value="nom" formControlName="nom">
  </mat-form-field>

  <table class="example-full-width" cellspacing="0"><tr>

    <td><mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Discipline</mat-label>
      <input matInput formControlName="discipline">
    </mat-form-field></td>
    <td><mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Nationalite</mat-label>
      <input matInput formControlName="nationalite">
    </mat-form-field></td>

  </tr></table>


</form>

</div>
<div class="modal-footer">
  <td> <button id="addform" mat-raised-button type="submit" (click)="post_livre()" *ngIf="showadd">Add</button>
  </td><td><button id="updateform" mat-raised-button type="submit" (click)="update_livre()" *ngIf="showupdate">Update</button>
  </td>
</div>
</ng-template>




<mat-card class="container-fluid">
<table>
  <thead>
  <tr>
    <th scope="col">#</th>
    <th scope="col">Titre</th>
    <th scope="col">ISBN</th>
    <th scope="col">Langue</th>
    <th scope="col">Annee</th>
    <th scope="col">Date de parution</th>
    <th scope="col">Auteur</th>
    <th scope="col">Publication</th>
    <th scope="col">Exemplaire</th>
    <th scope="col">Action</th>



  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let item of livre ">
    <td>{{ item.id}}</td>
    <td>{{ item.titre}}</td>
    <td>{{ item.isbn}}</td>
    <td>{{ item.langue}}</td>
    <td>{{ item.annee}}</td>
    <td>{{ item.date_parution }}</td>
    <td><span *ngFor="let i of item.auteur">{{ i.nom }} </span></td>
    <td>{{ item.publication }}</td>
    <td>{{ item.exemplaire }}</td>


    <td>
      <button mat-mini-fab
      style="background-color: #0f172a ; color: beige;"
      (click)="onEdit(content, item)">
        <mat-icon>edit</mat-icon>
      </button> &nbsp;

      <button mat-mini-fab  style="
      background-color: #bf0000 ;
      color: beige;"
      (click)="delete_livre(item)"
      >
        <mat-icon>delete</mat-icon>
      </button>
    </td>

  </tr>
  </tbody>
</table>
</mat-card>

